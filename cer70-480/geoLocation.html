<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" href="/style.css" />
    <style>
      section { margin-top: 15px; }
      #storageTable {border-collapse: collapse; margin-top: 18px}
      #storageTable td {border: 1px solid grey; padding: 5px; }
    </style>
  </head>
  <body>
    <div id="geoResults">
      <p>Current Location is:</p>
    </div>
    <section>
      <div>
        <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 15 15" style="height: 15px; width: 15px; stroke: #00aecd; stroke-width: 1.25;">
          <path d="M3.25,3.25l8.5,8.5M11.75,3.25l-8.5,8.5"></path>
        </svg>
      </div>      
      <div class="il-icon" style="height: 15px; width: 15px">
        <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 15 15" style="fill: #00aecd; display: inline-block; height: 15px; width: auto; vertical-align: top;">
          <path d="M7.5,1.5a6,6,0,1,0,0,12a6,6,0,1,0,0,-12m0,1a5,5,0,1,1,0,10a5,5,0,1,1,0,-10ZM6.625,11l1.75,0l0,-4.5l-1.75,0ZM7.5,3.75a1,1,0,1,0,0,2a1,1,0,1,0,0,-2Z"></path>
        </svg>
      </div>      
    </section>
    

    <script src="/script.js"></script>
    <script>
      // AppCache API: status (Uncached, Idle, Checking, Downloading, Obsolete, UpdateReady), method (update, swapCache), event (onchecking, onupdate, ondownloading, onprogress, oncached, on updateready, onobsolete, onerror)
      
      window.onload = function () {
         var geoLocator = window.navigator.geolocation;
         
         geoLocator.getCurrentPosition(successPosition, errorPosition, {enableHighAccuracy: true, timeout: 45000}); 
      }
      
      function successPosition(pos) {
        console.log(pos);
        var sp = document.createElement("p");
        
        sp.innerText = "Latitude: " + pos.coords.latitude + " Longitude: " + pos.coords.longitude;
        document.getElementById("geoResults").appendChild(sp);
      }
      
      function errorPosition(err) {
        var sp = document.createElement("p");
        sp.innerText = "error: " + err.message; + " code: " + err.code;
        document.getElementById("geoResults").appendChild(sp); 
      }
      
    </script>
  </body>
</html>
